
\documentclass[11pt,fleqn]{book} % Default font size and left-justified equations

%----------------------------------------------------------------------------------------

\input{structure} % Insert the commands.tex file which contains the majority of the structure behind the template



%%agregué


\usepackage[hang, small,labelfont=bf,up,textfont=it,up]{caption} % Custom captions under/above floats in tables or figures
\usepackage{booktabs} % Horizontal rules in tables
\usepackage{float} % Required for tables and figures in the multi-column environment - they
\usepackage{listings}




\usepackage{graphicx} % paquete que permite introducir imágenes

\usepackage{booktabs} % Horizontal rules in tables
\usepackage{float} % Required for tables and figures in the multi-column environment - they

\numberwithin{equation}{section} % Number equations within sections (i.e. 1.1, 1.2, 2.1, 2.2 instead of 1, 2, 3, 4)
\numberwithin{figure}{section} % Number figures within sections (i.e. 1.1, 1.2, 2.1, 2.2 instead of 1, 2, 3, 4)
\numberwithin{table}{section} % Number tables within sections (i.e. 1.1, 1.2, 2.1, 2.2 instead of 1, 2, 3, 4)


\setlength\parindent{0pt} % Removes all indentation from paragraphs - comment this line for an assignment with lots of text

%%hasta aquí


\begin{document}

%----------------------------------------------------------------------------------------
%	TITLE PAGE
%----------------------------------------------------------------------------------------

\begingroup
\thispagestyle{empty}
\begin{tikzpicture}[remember picture,overlay]
\coordinate [below=12cm] (midpoint) at (current page.north);
\node at (current page.north west)
{\begin{tikzpicture}[remember picture,overlay]
\node[anchor=north west,inner sep=0pt] at (0,0) {\includegraphics[width=\paperwidth]{background}}; % Background image
\draw[anchor=north] (midpoint) node [fill=ocre!30!white,fill opacity=0.6,text opacity=1,inner sep=1cm]{\Huge\centering\bfseries\sffamily\parbox[c][][t]{\paperwidth}{\centering Dokumentation zu Quiddi-github\\[15pt] % Book title
%{\Large }\\[20pt] % Subtitle
{\huge Quiddi}}}; % Author name
\end{tikzpicture}};
\end{tikzpicture}
\vfill
\endgroup


%----------------------------------------------------------------------------------------
%	COPYRIGHT PAGE
%----------------------------------------------------------------------------------------

%\newpage
%~\vfill
%\thispagestyle{empty}

%\noindent Copyright \copyright\ 2013 John Smith\\ % Copyright notice

%\noindent \textsc{Published by Publisher}\\ % Publisher

%\noindent \textsc{book-website.com}\\ % URL

%\noindent Licensed under the Creative Commons Attribution-NonCommercial 3.0 Unported License (the ``License''). You may not use this file except in compliance with the License. You may obtain a copy of the License at \url{http://creativecommons.org/licenses/by-nc/3.0}. Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \textsc{``as is'' basis, without warranties or conditions of any kind}, either express or implied. See the License for the specific language governing permissions and limitations under the License.\\ % License information

%\noindent \textit{First printing, March 2013} % Printing/edition date

%----------------------------------------------------------------------------------------
%	TABLE OF CONTENTS
%----------------------------------------------------------------------------------------

%\chapterimage{ima1} % Table of contents heading image

\chapterimage{chapter_head_1.pdf} % Table of contents heading image

%\pagestyle{empty} % No headers

 \tableofcontents % Print the table of contents itself
\newpage
%\cleardoublepage % Forces the first chapter to start on an odd page so it's on the right

%\pagestyle{fancy} % Print headers again

%----------------------------------------------------------------------------------------
%	PART
%----------------------------------------------------------------------------------------
\chapter{Git}
\subsection{neues Projekt}
In den Ordner im Terminal reinnavigieren und mit 
\begin{lstlisting}
 git init
\end{lstlisting}
das Git-Projekt initialisieren. Danach:
\begin{lstlisting}
git add *.*
git add README
git commit -m 'Projekt neu angelegt'
\end{lstlisting}
\subsection{GitHub Upload}
Danach kann auf der GitHub Homepage ein neues Projekt angelegt werden. Um dies pushen zu können muss man
\begin{lstlisting}
git remote add origin https://github.com/quiddi-github/linux.bibel.git
\end{lstlisting}
origin adden. Danach kann man das Projekt auf origin pushen, mit:
\begin{lstlisting}
git push -u origin master
\end{lstlisting}
Heirmit wird es auf dem Master-Branch gepushed.
Zuvor müssen aber noch alle Dateien reingeladen werden mit:
\begin{lstlisting}
git add .
\end{lstlisting}
und ein Kommentar angelegt werden mit
\begin{lstlisting}
git commit -m 'Projekt neu angelegt'
\end{lstlisting}
Die remote Reposities können mit
\begin{lstlisting}
git remote show
\end{lstlisting}
bzw. wenn ein remote Reposity namens origin vorliegt, dies mit
\begin{lstlisting}
git remote show origin
\end{lstlisting}
anzeigen lassen.
\section{eigener Git Hub Server}
Git sollte installiert sein. Der Rest läuft dann wie lokal. Am Server sollte nun folgendes passieren:\\
1. ordner in /home/git/usb\_drive als xxx.git erstellen\\
2. git --bare init ausführen im ordner\\
Am Client nun folgendes machen:\\
\begin{itemize}
 \item Neuen Ordner anlegen \$ cd myproject
 \item Initialisieren \$ git init
 \item Dateien hinzufügen mit \$ git add .
 \item Kommentar zu den Änderungen schreiben \$ git commit -m 'initial commit'
 \item Server nur einmal konfigurieren \$ git remote add origin git@gitserver:/opt/git/project.git
\end{itemize}
\chapter{Verschlüsseln von Passwörtern}
\section{GPG Schlüssel importieren exportieren erstellen}
GPG verwaltet unter Linux die Schlüssel.\\
Man kann sich die \textbf{öffentlichen} Schlüssel anzeigen lassen mit:
\begin{lstlisting}
 gpg --list-keys
\end{lstlisting}
oder die \textbf{privaten} mit:
\begin{lstlisting}
 gpg --list-private-keys
\end{lstlisting}
\subsection{Export Keys}
Zum exportieren bedient man sich folgendem Befehl:\\
\textbf{öffentlich}
\begin{lstlisting}
 gpg -a --output public.gpg --export <Key-ID>
\end{lstlisting}
für den \textbf{privaten}:
\begin{lstlisting}
 gpg --export-secret-keys -a <Key-ID> > secret.asc
\end{lstlisting}
\subsection{Import Keys}
Die Schlüssel müssen nun auf dem anderen PC importiert werden, Dies passiert für den \textbf{öffentlichen} Schlüsssel mit
\begin{lstlisting}
 gpg --import public.gpg
\end{lstlisting}
und für den \textbf{privaten} Schlüssel mit
\begin{lstlisting}
 gpg --allow-secret-key-import --import secret.asc
\end{lstlisting}
Um mit dem öffentlischen Schlüssel abreiten zu können, muss diesem noch vertraut werdem. Andernfalls erhält man z.B. in dem Programm pass eine Fehlermeldung. Zum vertrauen des Schlüssels geht man wie folgt vor:
\begin{lstlisting}
 gpg --edit-key <Key-ID>
\end{lstlisting}
Danach öffent sich ein seperates Programm im Terminal. Hier gibt man \glqq trust\grqq \ ein und bestätigt dies mit \glqq 5 \grqq \ für \glqq Ich vertraue ihm absolut\grqq. Danach kann man es wieder schließen. Danach kann mit dem öffentlichen Schlüssel gearbeitet werden. Der private Schlüssel wird nur zum entschlüsseln gebraucht und ihm muss daher nicht vertraut werden.
\subsection{neues Key-Paar erstellen}
Ein neues GPG-Key-Paar, also der öffentliche- mit einem provatem Schlüssel, wird erzeugt mit
\begin{lstlisting}
 gpg --full-generate-key
\end{lstlisting}
Danach muss \glqq 1\grqq \ gedrückt werden um einen RSA-Key zu erhalten. Danach wird nach der bit-Größe gefragt. Hier kann z.B. \glqq 1024\grqq \ eingegeben werden. Danach wird nach dem Ablaufdatum gefragt. Ist das Ablaufdatum erreicht so kann mit dem öffentlichen Schlüssel nichts neues mehr verschlüsselt werden. Es können aber noch 100 Jahre nach dem Ablaufdatum vorhandene verschlüsselte Dateien entschlüsselt werden. Er frägt dann weiter ob die Daten korrekkt sind, Nach einem Namen, e-Mail, Kommentar. Danach wird nach einem Passphrase gefragt. Der Passphrase ist notwendig um den Key nachher benutzen zu können. Ohne den Passphrase zu wissen kann er später nicht benutzt werden. Danach ist der Key erstellt.
\section{pass}
Das Programm pass verschlüsselt, mit dem zuvor defineirten öffentlichen Schlüssel, Text, und entschlüsselt dies mit dem dazugehörigen private Key wieder. Hat man ein Schlüsselpaar, bestehend aus öffentlichem- und privatem Schlüssel erstellt so kann man dieses mit
\begin{lstlisting}
 pass init <Key-ID>
\end{lstlisting}
für pass defineren. Achtung, wurde der Key zuvor importiert, so muss dem öffentlichen Key erst vertraut werden, ansonsten kann ein verschlüsseln mit pass nicht stattfinden. Sollte man nun alte verschlüsselte Dateien haben, so können diese nun in \glqq$/home/USER/.password-store$\grqq \ kopiert werden. Das entschlüsseln sollte nun mit
\begin{lstlisting}
 pass <verschluesselte Datei>
\end{lstlisting}
funktionieren. Mit \glqq pass\grqq \ werden alle verschlüsselten Inhalte angezeigt. Mit \glqq pass insert <verschlüsselte Datei>\grqq \ kann dies dann wieder im Klartext dargestellt werden. Mit \glqq pass rm <verschlüsselte Datei>\grqq \ kann das Teil wieder gelöscht werden. Mehrere Zeilen können mit
\begin{lstlisting}
 pass insert -m <verschluesselte Datei>
\end{lstlisting}
angelegt werden.
\chapter{Microsoft Office 2013}
Vorraussetzungen:\\
\begin{itemize}
 \item Office 2013 als 32-bit Version
 \item Die Pakete: wine winetricks mono-devel samba-winbind
\end{itemize}
\section{Wine installieren}
Wine wird in Debian wie folgt installiert:\\
32-Bit Architektur hinzufügen:
\begin{lstlisting}
 sudo dpkg --add-architecture i386
\end{lstlisting}
Den entsprechenden Key hinzufügen
\begin{lstlisting}
 wget -nc https://dl.winehq.org/wine-builds/Release.key 
 sudo apt-key add Release.key
\end{lstlisting}
Danach kann in die $/etc/apt/sources.list$ folgendes hinzugefügt werden:
\begin{lstlisting}
 deb https://dl.winehq.org/wine-builds/debian/ DISTRO main
\end{lstlisting}
DISTRO ist hierbei urch das Debian System zu erssetzen. Danach das ganze updaten:
\begin{lstlisting}
 sudo apt-get update
\end{lstlisting}
Nun die StableVersion von Wine installieren:
\begin{lstlisting}
 sudo apt-get install --install-recommends winehq-stable
\end{lstlisting}
\section{andere Pakete}
Es fehlern nun noch\\
winetricks mono-devel samba-winbind\\
Diese bitte noch installieren. Am einfachsten mit
\begin{lstlisting}
 sudo apt-get install winetricks mono-devel winbind
\end{lstlisting}
Das war soweit die Vorbereitung. Nun kann Wine konfiguriert werden
\section{Konfiguration Wine}
Für Office 2013 einen neuen Ordner anlegen:
\begin{lstlisting}
 WINEPREFIX=~/.wine/Office2013 WINEARCH=win32 winecfg
\end{lstlisting}
Es muss Windows 7 verwendet werden. Nun noch folgendes nachinstallieren
\begin{lstlisting}
WINEPREFIX=~/.wine/Office2013 WINEARCH=win32 winetricks corefonts
WINEPREFIX=~/.wine/Office2013 WINEARCH=win32 winetricks msxml4
WINEPREFIX=~/.wine/Office2013 WINEARCH=win32 winetricks msxml6
WINEPREFIX=~/.wine/Office2013 WINEARCH=win32 winetricks riched30
WINEPREFIX=~/.wine/Office2013 WINEARCH=win32 winetricks vb6run
WINEPREFIX=~/.wine/Office2013 WINEARCH=win32 winetricks d3dx11_42
WINEPREFIX=~/.wine/Office2013 WINEARCH=win32 winetricks d3dx11_43
\end{lstlisting}
Es soll nun in der Konfig bei Bibliotheken unter Bestehende ein Eintrag \glqq *riched20 (Native, Builtin)\grqq \ sein. Die kOnfig kann mit
\begin{lstlisting}
WINEPREFIX=~/.wine/Office2013 WINEARCH=win32 winecfg
\end{lstlisting}
aufgerufen werden. Nun kann Office 2013 installiert werden
\begin{lstlisting}
 WINEPREFIX=~/.wine/Office2013 WINEARCH=win32 wine /PATH_TO_MOUNTPOINT/setup.exe
\end{lstlisting}
Bei mir bleib die Installation irgendwann hängen, starten tut mein Word,... trotzdem. Word kann nun gestartet werden mit
\begin{lstlisting}
 WINEPREFIX=~/.wine/Office2013 WINEARCH=win32 wine "C:\\Program Files\\Microsoft Office\\Office15\\Winword.exe"
\end{lstlisting}
Hierbei wird es wahrscheinlich zu einem schwarzen Bildschirm kommen. Dies kann man folgendermaßen gerichtet werden. Wir machen zunächst die Regedit auf
\begin{lstlisting}
 WINEPREFIX=~/.wine/Office2013 WINEARCH=win32 wine regedit
\end{lstlisting}
Unter \glqq HKEY\_CURRENT\_USER\{\}Software\{\}Wine\grqq \ legen wir den neuen Schlüssel \glqq Direct3D\grqq \ an. Danach wird ein neuer DWORD Wert mit dem Namen \glqq MaxVersionGL\grqq \ angelegt. Als Hexwert schreiben wir hier \glqq 30002\grqq \ hinein. Sollte dies immer noch nicht funktionieren soo wird noch unter \glqq HKEY\_CURRENT\_USER\{\}Software\{\}Wine\grqq \ ein Schlüssel mit \glqq Direct2D\grqq \ angelegt. Auch hier muss wieder ein DWORD angelegt werden mit dem Namen \glqq max\_version\_factory\grqq. Hier sollte dann der Wert \glqq 0\grqq \ drinnenstehen. Das war's
\chapter{DarkNet}
Auf die Funktionen, wie das DarkNet funktionert, soll hier nicht eingegangen werden. Ea kann unter Linux Tor installiert werden. Wird dieser gestartet, so wird lokal(127.0.0.1) ein Proxy auf Port 9050 gestartet. Sofern nicht anderst konfiguriert startet er mit dem SOCKS Protokoll. Zum starten einfach tor eingeben im Terminal. Vereinzelt kann es vorkommen, dass die Anwedung nicht richtig startet. Mit 
\begin{lstlisting}
 sudo netstat -plnt | fgrep 9050
\end{lstlisting}
kann geschaut werden was Port 9050 blockiert. Andernfalls kann auch mit
\begin{lstlisting}
 sudo killall tor
\end{lstlisting}
der Tor-Service beendet werden. Chrome kann nunb bei einstellen des richtigen Proxys sofort .onion Domains darstellen. Im Firefox muss der Proxy Socks remote dns einmal aktiviert werden. Hierzu 
\begin{lstlisting}
about:config                                                                                                                                                                                                                                                                                                                                                                                                     \end{lstlisting}
die Konfiguration aufmachen und \glqq network.proxy.socks\_remote\_dns\grqq \ auf true setzen. Danach muss auch noch aktiviert werden, dass .onion Domains aufgelöst werden, dazu den Wert \glqq network.dns.blockDotOnion\grqq \ auf false setzen. Mit dem Link
\begin{lstlisting}
 https://check.torproject.org/
\end{lstlisting}
kann geschaut werden, ob man richtig mit dem Tor-Netzwerk verbunden ist. Viel Spaß bei erkunden des DarkNets.
\chapter{VMware}
\subsection{Linux als Guest System}
\subsubsection{Mount Share Folder}
In VMware Workstation muss für die Linux-VM unter \glqq Settings\slash Options\slash Shared Folders\grqq \ der geteilte Ordner mit dem HostSystem angelegt und aktiviert sein. Zur Linux Guest VM:
Es müssen die Programme 
\begin{lstlisting}
open-vm-tools
open-vm-tools-desktop
open-vm-tools-dkms
\end{lstlisting}
installiert sein. Auf einem DebianBasiertem System geht dies mit:
\begin{lstlisting}
sudo apt-get install open-vm-tools open-vm-tools-desktop
                     open-vm-tools-dkms
\end{lstlisting}
Danach kann der Ordner in der VM gemountet werden. Dies geschieht mit:
\begin{lstlisting}
vmhgfs-fuse .host:dokumente /home/quiddi/shares/
\end{lstlisting}
Wobei hier \glqq dokumente\grqq \ für den freigegebenen Ordnernamen steht und \glqq /home\slash quiddi\slash shares\slash \grqq \ für das Verzeichnis auf dem GuestSystem, in welches gemountet wird.
\chapter{Debian}
\textbf{Debian Version anzeigen:}
\begin{lstlisting}
cat /etc/issue
\end{lstlisting} 
\begin{lstlisting}
cat /etc/debian_version
\end{lstlisting}
\chapter{Bluetoth Lautsprecher}
Um einen Bluetoth Lautsprecher zu verbinden, werden die Pakete pulseaudio-alsa, pulseaudio-bluetooth, bluez, bluez-libs, bluez-utils benötigt. Diese bitte installieren. 
\begin{lstlisting}
pulseaudio-alsa pulseaudio-bluetooth bluez bluez-libs bluez-utils
\end{lstlisting}
Nach der Installation mit systemctl den entsprechenden Dienst mit
\begin{lstlisting}
sudo systemctl start bluetooth.service
\end{lstlisting}
starten. Im Terminal den Lautsprecher verbinden. Hierzu
\begin{lstlisting}
bluetoothctl
\end{lstlisting}
starten. Danach nach Geräten suchen lassen mit
\begin{lstlisting}
[bluetooth]# power on
[bluetooth]# agent on
[bluetooth]# default-agent
[bluetooth]# scan on
\end{lstlisting}
Irgendwo sollte das Bluetooth Gerät nun auftauchen. Im besten Falle sieht man nun auch einen Namen des Gerätes. Nun das Gerät mit der Geräte-ID verbinden
\begin{lstlisting}
[bluetooth]# pair 00:1D:43:6D:03:26
\end{lstlisting}
Nun nach dem Pairen verbinden
\begin{lstlisting}
[bluetooth]# connect 00:1D:43:6D:03:26
\end{lstlisting}
Die ganze Sache beenden mit
\begin{lstlisting}
[bluetooth]# scan off
[bluetooth]# exit
\end{lstlisting}
Um die Lautstärke nun vom Terminal aus steuern zu können, muss man noch
\begin{lstlisting}
pulsemixer
\end{lstlisting}
installieren. Danach dies mit 
\begin{lstlisting}
pulsemixer
\end{lstlisting}
starten. Das Gerät ausswählen und Musik hören.\\
Bei Problemen kann man noch
\begin{lstlisting}
pulseaudio-alsa
\end{lstlisting}
installieren. Dies sollte möglich machen, dass man mit Alsamixer das PulseaudioGerät steuern kann. Dies klappte bei mir jedoch nicht.
%----------------------------------------------------------------------------------------
\chapter{Dynamische IP updaten}
Kostenlos wird dies momentan nur noch von \url{ddnss.de} bzw. \url{ddnss.ch} angeboten. DynDNS kostet mittlerweile Geld. Vorraussetzung is, dass ein ddnss-Benutzer eingerichtet ist. Weiter muss ddclient installiert sein. Nun kann es mit
\begin{lstlisting}
sudo dpkg-reconfigure ddclient
\end{lstlisting}
eingerichtet werden. Hier wird nun eingegeben:
\begin{itemize}
 \item anderen Anbieter auswählen
 \item Name des Servers: ddnss.de
 \item Protokoll dyndns2
 \item  Benutzer: testbenutzer
 \item PW eingeben
 \item Netzwerkschnittstelle, normal eth0
 \item Vollständige Adresse: meineadresse.ddnss.ch
 \item  PPP-Verbindung, Nein
 \item  als Daemon starten, JA
 \item Intervall, 300
\end{itemize}
Der status heirzu kann mit
\begin{lstlisting}
ddclient -query
\end{lstlisting}
abgefragt werden. Nun sollte noch umgestellt werden, dass ddnss die externe IP und nicht die interne IP bekommt. Hierzu mit dem Editor nano die config verändern mit
\begin{lstlisting}
sudo nano /etc/default/ddclient
\end{lstlisting}
Hier muss dann die \glqq use$=$if\grqq auf
\begin{lstlisting}
protocol=dyndns2
use=web, web=my.ip.fi/
server=ddnss.de
\end{lstlisting}
umgestellt werden. Danach sollte der Dienst ddclient die externe IP an ddnss.de weiterschicken. Um regelmäßig die IP Adresse an ddnss zu schicken muss man in der Datei \glqq /etc/default/ddclient\grqq
\begin{lstlisting}
run_daemon="false" auf true setzen 
run_dhclient="true" auf false setzen
run_ipup="true" auf false setzen
\end{lstlisting}
um alle 300 Sekunden die IP-Adresse an ddnss zu schicken.
Einmalig kann man den Dienst mit
\begin{lstlisting}
sudo ddclient -debug -verbose -noquiet
\end{lstlisting}
starten.
\chapter{Feste IP einstellen mit dhcpcd}
\begin{lstlisting}
sudo nano /etc/dhcpcd.conf
\end{lstlisting}
Hier sollte sehen als bsp.:
\begin{lstlisting}
interface eth0
static ip_address=192.168.0.4/24
static routers=192.168.0.1
static domain_name_servers=192.168.0.1
\end{lstlisting}
\end{document}